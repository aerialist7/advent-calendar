import s from "./Day.page.module.css";
import cn from "classnames";
import { useNavigate, useParams } from "react-router";
import Markdown from "react-markdown";
import remarkGfm from "remark-gfm";
import { Day } from "../../components/Day.tsx";
import CalendarIcon from "../../assets/icons/calendar.svg?react";

const DAY_TASK: Record<string, string> = {
  "23": `## üî• –î–µ–Ω—å 1: –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å
  \n–•–æ-–•–æ! –í–æ—Ç –∏ –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å Advent-–∫–∞–ª–µ–Ω–¥–∞—Ä—è.
  
  ### ‚úçÔ∏è –ü—Ä–∞–≤–∏–ª–∞ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã–µ:
  \n–≤–æ–∑—å–º–∏ –±–ª–æ–∫–Ω–æ—Ç –∏ —Ä—É—á–∫—É –∏–ª–∏ –∑–∞–ø–∏—Å—ã–≤–∞–π –≤—Å—ë –≤ –∑–∞–º–µ—Ç–∫–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—à—å –∑–∞–¥–∞–Ω–∏—è.
  
  \n–õ—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Å –æ–∫—Ä—É–∂–∞—é—Ç, ‚Äî —ç—Ç–æ —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å, –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ—Ç–æ—Ä–æ–π –Ω–∞–º —Ç–µ–ø–ª–æ –∏ –ª–µ–≥–∫–æ. –ü–æ—ç—Ç–æ–º—É –Ω–∞—á–Ω—ë–º —ç—Ç–æ—Ç –¥–µ–Ω—å —Å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏.
  
  \n### –ó–∞–¥–∞–Ω–∏–µ
  
  
  \n 1\\. –í—ã–ø–∏—à–∏ 3‚Äì5 —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–≤–ª–∏—è–ª–∏ –Ω–∞ —Ç–µ–±—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤ —ç—Ç–æ–º –≥–æ–¥—É.
  
  \n 2\\. –ù–∞–ø–∏—à–∏, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –Ω–∞ —Ç–µ–±—è –ø–æ–≤–ª–∏—è–ª
  
  *P.S.* –≠—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á—Ç–æ-—Ç–æ –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω–æ–µ. –ü–æ—Ä–æ–π –≤–∞–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —Ç–æ, —á—Ç–æ–± —Å –Ω–∞–º–∏ –∫—Ç–æ-—Ç–æ –±—ã–ª.
  
  
  -----
  
  \n –ö–æ–≥–¥–∞ –≤—Å–µ –∑–∞–ø–∏—à–µ—à—å, —Å–æ—Ö—Ä–∞–Ω–∏ —ç—Ç–æ –≥–¥–µ-–Ω–∏–±—É–¥—å, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å ‚Äî —ç—Ç–æ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –Ω–∞–º –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º.
  \n –£–≤–∏–¥–∏–º—Å—è –∑–∞–≤—Ç—Ä–∞ ‚òÄÔ∏è
  `,
  "24": `## **–î–µ–Ω—å 2**
    \n–ü—Ä–∏–≤–µ—Ç! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫–æ –≤—Ç–æ—Ä–æ–º—É –¥–Ω—é. –ï—Å–ª–∏ —Ç—ã –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª –∑–∞–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è ‚Äî –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π, —Ç—ã –º–æ–∂–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–µ–º—É –ø–æ–∑–∂–µ.
    \n–ü—Ä–∞–≤–∏–ª –≤—Å–µ —Ç–µ–∂–µ: –≤–æ–∑—å–º–∏ –±–ª–æ–∫–Ω–æ—Ç –∏ —Ä—É—á–∫—É –∏–ª–∏ –∑–∞–ø–∏—Å—ã–≤–∞–π –≤—Å—ë –∏–∑ –∑–∞–¥–∞–Ω–∏–π —Å–µ–±–µ –≤ –∑–∞–º–µ—Ç–∫–∏.
    \n–ß—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ **–ù–æ–≤—ã–π –≥–æ–¥** —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º, –∫–∞–∫ –º—ã —Ö–æ—Ç–∏–º –µ–≥–æ –ø—Ä–æ–≤–µ—Å—Ç–∏, —Å—Ç–æ–∏—Ç —Å–Ω–∞—á–∞–ª–∞ –Ω–µ–º–Ω–æ–≥–æ –≤—Å–ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ—à–ª—ã–π.
    
    \n–ú—ã —á–∞—Å—Ç–æ —Å–∫–ª–æ–Ω–Ω—ã –æ–±–µ—Å—Ü–µ–Ω–∏–≤–∞—Ç—å —Å–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (—è —Ç–∞–∫ —á–∞—Å—Ç–æ –¥–µ–ª–∞—é üòÖ).  
    
    \n–ù–æ –≤–∞–∂–Ω–æ –≤—Å–ø–æ–º–Ω–∏—Ç—å –≤—Å—ë, —á—Ç–æ –±—ã–ª–æ –≤ —ç—Ç–æ–º –≥–æ–¥—É. –î–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–±–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ, –ø–æ–≤–µ—Ä—å, —É –∫–∞–∂–¥–æ–≥–æ –∑–∞ –≥–æ–¥ –Ω–∞–π–¥—ë—Ç—Å—è —á—Ç–æ –≤—Å–ø–æ–º–Ω–∏—Ç—å.
    
    \n### –ó–∞–¥–∞–Ω–∏–µ
    \n–í—Å–ø–æ–º–Ω–∏ –∏ –≤—ã–ø–∏—à–∏ **—Ç—Ä–∏ —Å–∞–º—ã—Ö —è—Ä–∫–∏—Ö** —Å–æ–±—ã—Ç–∏—è —ç—Ç–æ–≥–æ –≥–æ–¥–∞.  
    \n–≠—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –∫—Ä—É–ø–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, —Ç–∞–∫ –∏ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏—è—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–µ–∑–¥–∫–∞, –≤—Å—Ç—Ä–µ—á–∞, –Ω–æ–≤—ã–π –Ω–∞–≤—ã–∫ –∏–ª–∏ –¥–∞–∂–µ –ø—Ä–æ—Å—Ç–æ —Ç—ë–ø–ª—ã–π –≤–µ—á–µ—Ä –¥–æ–º–∞. –ù–∞–ø–∏—à–∏, –ø–æ—á–µ–º—É –æ–Ω–∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤ —Ç–≤–æ–µ–π –ø–∞–º—è—Ç–∏.
    
    \n#### –ü–æ–¥—Å–∫–∞–∑–∫–∞
    \n–°–Ω–∞—á–∞–ª–∞ –º–æ–∂–µ—à—å –≤—ã–ø–∏—Å–∞—Ç—å –≤–æ–æ–±—â–µ –≤—Å—ë, —á—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –≥–æ–ª–æ–≤—É. –ó–∞–ø–∏—à–∏ 5‚Äì10 —Å–æ–±—ã—Ç–∏–π. –ê –∏–∑ –Ω–∏—Ö —É–∂–µ –ª–µ–≥—á–µ –≤—ã–±—Ä–∞—Ç—å 3-5 —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö.
    
    \n–ù—É –≤—Å–µ, –º–Ω–µ –ø–æ—Ä–∞ –±–µ–∂–∞—Ç—å –∏ –≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏ üéÅ.
    \n–ù–µ —Ç–µ—Ä—è–π —Å–≤–æ–∏ –∑–∞–º–µ—Ç–∫–∏ –∏ —É–≤–∏–¥–∏–º—Å—è –∑–∞–≤—Ç—Ä–∞ üòâ
    `,
};

const FIRST_CALENDAR_DAY = 23;
const LAST_CALENDAR_DAY = 31;

export const DayPage = () => {
  const { day: dayFromParam } = useParams();
  const navigate = useNavigate();
  const day = Number(dayFromParam);

  const currentDay = new Date().getDate();
  const isNextDayAvaliable =
    day && currentDay > Number(day) && Number(day) !== LAST_CALENDAR_DAY;

  const isPrevDayAvailable = Number(day) !== FIRST_CALENDAR_DAY;

  const currentDayIssue = day ? DAY_TASK[day] : undefined;

  const handleBack = () => {
    navigate("/");
  };

  return (
    <div className={cn(s.container, s.pageAnimation)}>
      <div className={s.title}>
        <button onClick={handleBack} className={s.buttonBack}>
          Back
        </button>
        {day} –î–µ–∫–∞–±—Ä—è
      </div>
      <Markdown remarkPlugins={[remarkGfm]} className={s.text}>
        {currentDayIssue ? currentDayIssue : "Something went wrong"}
      </Markdown>
      <>
        {isNextDayAvaliable && <p className={s.text}>–ê –∑–∞–≤—Ç—Ä–∞ —É–∂–µ –Ω–∞—Å—Ç—É–ø–∏–ª–æ</p>}
        <div className={s.footerControls}>
          {isPrevDayAvailable && (
            <Day
              className={s.buttonNextDay}
              text={"–í—á–µ—Ä–∞"}
              day={Number(day) - 1}
              size={"double"}
              color={"dark-green"}
              isButton
            />
          )}
          {isNextDayAvaliable && (
            <Day
              className={s.buttonNextDay}
              text={"–ó–∞–≤—Ç—Ä–∞"}
              day={Number(day) + 1}
              size={"double"}
              color={"gradient"}
              isButton
            />
          )}
        </div>
      </>
    </div>
  );
};
